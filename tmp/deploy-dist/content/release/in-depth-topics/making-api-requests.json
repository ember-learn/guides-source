{"data":{"type":"contents","id":"in-depth-topics/making-api-requests","attributes":{"content":"Ember developers have great options for how they handle data from\nback end APIs. Ember itself works with any type of back end: REST,\nJSON:API, GraphQL, or anything else. This guide will summarize how\nand where to make API requests.\nFollow the links within it to see examples and learn more.\n\n## How to make API requests\n\nSome common tools for making [CRUD](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) (create, read, update, delete) requests in Ember include:\n\n- [Ember Data](../../models/) is the official data persistence library for Ember. It has a powerful set of tools\nfor formatting requests, normalizing responses, and efficiently\nmanaging a local cache of data. \nIt is included by default in new Ember apps.\n- Native JavaScript methods like [`fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API). Install [`ember-fetch`](https://github.com/ember-cli/ember-fetch) in order to provide support for older browsers, and `import fetch from 'fetch'` to use it.\n- [jQuery Ajax](https://api.jquery.com/jquery.ajax/) requests. See [the guide for optional features](../../configuring-ember/optional-features/) in order to be able to `import jQuery from 'jquery'` in your app.\n- Other Ember-specific addons for data loading. Search for them on [Ember Observer](https://emberobserver.com)\n- ...and many more general JavaScript data fetching libraries, which you can install following [this guide](../../addons-and-dependencies/managing-dependencies/).\n\n## Where to make API requests\n\nAPI requests can be made almost anywhere in an Ember app, however the most common place is the `model` hook of a Route.\n\n### Requests in a Route's `model` hook\n\nIn almost every case, this is where your app should load data. You can see examples and more information in [Specifying a Route's Model](../../routing/specifying-a-routes-model/).\n\nThese are the main reasons to load data in a `model` hook:\n\n- Respecting the URL results in better user experience\n- Proper use of loading and error states result in better user experience\n- Dealing with concurrency is a big source of bugs\n- The router is designed to solve those problems for you in the majority of common situations\n\n### Requests in Components\n\nSome people choose to load data in their Components.\nThe drawback is that requires more work from developers to handle async, rendering,\nerrors, concurrency, and URL state themselves - functionality they would get automatically if\nthey used a Route's `model` hook.\nHowever there are valid use cases for loading data in a component, for developers who are\ncomfortable handling the router's features themselves.\n\nSome common use cases include:\n\n- UI elements whose data is independent of a route. For example, a modal that could appear on many different routes, and the modal has its own unique data.\n- loading data in parallel within deeply nested routes\n- highly interactive loading, like a search bar with its own loading state, error handling, etc.\n\nThese Guides do not cover how to load data in components, since the majority\nof data fetching should be done in a route's `model`.\n\n### Requests in Services\n\nIf someone is connecting to a third-party API, such as a service for payment or mapping, and they need that state across many routes, a [Service](../../services/) might be a good place to make requests. Some common use cases include polling for data and managing websocket connections.\n\nRequests in services have the same drawbacks as Components. Functions and state in a Service can be used almost anywhere in the app.\n\n## Simulating API requests\n\nYou don't need to build a back end in order to see how your app might work once it has real data loading in!\nCheck out the [official Ember.js Tutorials](https://emberjs.com/learn) to learn how to simulate API requests\nin an app and test your data loading.\n\n## Things to know\n\nHere are some top things to know if you are new to making API requests in a front end framework:\n\n- Never store API keys or any sensitive data in a front end application\n- Learn about the difference between the front end, API, and database. Front end frameworks connect to APIs, not directly to a database.\n- If your app seems slow to load, check if the delay is caused by a slow response from the back end API. Use your browser's developer tools to investigate.\n- Always check to see if someone has already written an addon or library that helps connect to your API host or style\n- Read some blog posts about data loading in Ember. Apps and APIs come in so many different shapes and sizes that it's helpful to seek out examples that are similar to your goals before digging into the details.\n- Visit each page of your app and refresh. Does it still work as expected? If not, you may need to refactor where your app makes data requests or use query params to track state.","description":"Ember developers have great options for how they handle data from back end APIs. Ember itself works with any type of back end: REST, JSON:API, GraphQL, or anything else. This guide will summarize how and where to make API requests. Follow the links within..."}}}